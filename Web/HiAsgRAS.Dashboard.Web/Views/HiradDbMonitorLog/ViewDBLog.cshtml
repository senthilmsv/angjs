@model HiAsgRAS.ViewModel.HiradDbMonitorModel

<div class="card">
    <div class="card-header" data-background-color="blue">
        <button type="button" class="close pull-right" data-dismiss="modal">&times;</button>
        <i class="fa fa-database" aria-hidden="true"></i> <h4 class="title" style="display: inline;">Database Logs</h4>
        <div class="category">
            <div class="row">
                <div class="col-xs-3 title">Application: @Model.Application</div>
                <div class="col-xs-3 title">DB Server: @Model.DBServerName</div>
                <div class="col-xs-3 title">DB Name: @Model.DbName</div>
                <div class="col-xs-3 title">Remedy Group: @Model.SupportStaff</div>
            </div>
        </div>
    </div>
    <div class="card-content">
        <table class="table table-striped table-bordered table-hover table-condensed table-striped"
               id="hiradDBAllLog" style="width:100%;">
            <thead class="text-rose">
                <tr>
                    <th>Id</th>
                    <th>Monitored At</th>
                    <th>Status</th>
                    <th>Error Description</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.HiradDbMonitorLogs)
                {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.MonitoredAt</td>
                        <td>@item.Status</td>
                        <td>@item.ErrorDescription</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    //Dom Ready
    $(function () {
        $('#hiradDBAllLog').dataTable().fnDestroy();
        var table = $("#hiradDBAllLog").DataTable({
            "order": [[0, "desc"]],
            "scrollY": '50vh',
            "scrollCollapse": true,
            "pageLength": -1,
            "lengthMenu": [[-1, 10, 20, 50, 100], ["All",10, 20, 50, 100]],
            "bAutoWidth": false,
            "aoColumns": [
                { "sWidth": "10px", "bSearchable": false, "visible": false },
                { "sWidth": "181px" },
                { "sWidth": "104px" },
                { "sWidth": "226px" }
            ],
            
            "fnInitComplete": function () {
                $("#hiradDBAllLog").css("width", "100%");
                $(".dataTables_scrollHead").css("width", "100%");
                $(".dataTables_scrollHeadInner").css("width", "100%");
                $(".dataTables_scrollHeadInner table").css("width", "100%");
            }
        });
    });
</script>

